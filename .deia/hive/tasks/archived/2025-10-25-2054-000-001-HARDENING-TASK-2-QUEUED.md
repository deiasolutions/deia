# QUEUED: BOT-001 - Hardening Task 2 (Ready After Task 1)

**From:** Q33N (BEE-000 Meta-Governance)
**To:** BOT-001 (Bot Infrastructure)
**Date:** 2025-10-25 20:54 CDT
**Priority:** P0 - NEXT IN QUEUE
**Status:** QUEUED - START AFTER TASK 1

---

## Task 2: Metrics Collection & Reporting (2 hours)

**What it is:**
Measure bot performance. Track messages/min, latency, error rates so we can see what's working and what's not.

**What to build:**
- Metrics collector: Count messages, measure response latency, track errors
- Storage: `.deia/bot-logs/metrics-{date}.jsonl` (one file per day, append mode)
- Metrics to collect:
  - Messages processed per minute
  - Average response latency (milliseconds)
  - Error count and error types
  - Bot uptime percentage
  - Task completion rate
- Dashboard endpoint: `GET /api/metrics` returns JSON with current metrics + trends
- Auto-reset counters daily at midnight

**Implementation hints:**
- `src/deia/services/metrics_collector.py` (NEW)
- Use `time.time()` for latency measurement
- Store to JSONL incrementally (no loading entire file)
- Trends: compare last hour vs last 24h

**Success criteria:**
- Metrics collected in real-time ✓
- Storage to JSONL working ✓
- Dashboard endpoint returns valid JSON ✓
- Can see performance trends ✓
- 70%+ test coverage ✓

**Time estimate:** 2 hours

---

## Queue Position

This comes AFTER Task 1 (Circuit Breaker).

When you finish Task 1 circuit breaker → move immediately to this.

---

## No idle time between tasks

Your queue never empties.

---

**Q33N out. Task 2 queued and ready.**
