# QUEUED: BOT-001 - Hardening Task 3 (Ready After Task 2)

**From:** Q33N (BEE-000 Meta-Governance)
**To:** BOT-001 (Bot Infrastructure)
**Date:** 2025-10-25 20:54 CDT
**Priority:** P0 - NEXT IN QUEUE
**Status:** QUEUED - START AFTER TASK 2

---

## Task 3: Backpressure & Flow Control (1.5 hours)

**What it is:**
When too many tasks queue up, slow down incoming requests instead of overwhelming the bot.

**What to build:**
- Monitor bot task queue depth
- When queue > 10 tasks: reject new tasks (return 429 Too Many Requests)
- UI shows "Bot busy, please wait" message
- Auto-resume accepting when queue drops below 5
- Graceful degradation: prioritize urgent tasks
- Log backpressure events to `.deia/bot-logs/backpressure.jsonl`

**Implementation hints:**
- Track queue depth in-memory
- Check before accepting new task
- Return 429 HTTP status code when at limit
- UI shows visual feedback (spinning indicator, "processing" message)
- Reset counter when load drops

**Success criteria:**
- Backpressure prevents bot overwhelm ✓
- Queue depth monitored ✓
- 429 status returned when full ✓
- UI shows feedback ✓
- No dropped tasks ✓
- 70%+ test coverage ✓

**Time estimate:** 1.5 hours

---

## Queue Position

This comes AFTER Task 2 (Metrics Collection).

When you finish Task 2 → move immediately to this.

---

**Q33N out. Task 3 queued and ready.**
