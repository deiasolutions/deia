---
title: "Anti-Pattern: Direct-to-Production Deployment Without QA"
category: Deployment
severity: High
date: 2025-10-16
discovered_by: daaaave-atx
project: Q33N Platform Launch
tags: [deployment, qa, process-deviation, cowboy-coding, production-risk]
---

# Anti-Pattern: Direct-to-Production Deployment Without QA

## What We Did Wrong

During initial Q33N platform deployment, we repeatedly pushed changes directly to `master` branch, which auto-deployed to production (`q33n.com`) without:
- Local testing
- Deploy previews
- Staging environment
- QA verification

**Pattern:**
```bash
# Edit code
git commit -m "fix: something"
git push origin master  # üíÄ Straight to production
# Hope it works ü§û
```

## Why This Is Bad

1. **No safety net** - Bugs go straight to live users
2. **No rollback plan** - If it breaks, public site is down
3. **Poor modeling** - Q33N is a hosting platform; we should demonstrate good practices
4. **Debugging in production** - Wastes time, looks unprofessional
5. **DNS/SSL complications** - Production issues harder to diagnose than local

## What Happened (Incident Timeline)

**2025-10-16:**
1. Deployed with `netlify.toml` ‚Üí Parse error (production down)
2. Fixed config ‚Üí Still parse error (production down)
3. Removed config ‚Üí Still failed (production down)
4. Deleted site, recreated ‚Üí Success but missing theme
5. Fixed theme ‚Üí Pushed to master ‚Üí Production issue
6. Multiple rounds of "fix in production"

**Result:** ~30 minutes of broken production site during launch

**UPDATE (30 minutes later, same session):**
7. Added efemera.live domain to Netlify
8. Configured DNS at Squarespace (domain now live)
9. Realized _redirects file missing ‚Üí 404 on live domain
10. Had to create routing rules AFTER domain was already live

**Pattern repeated:** DNS configured before site fully ready, live domains showing errors

## The Right Way

### **Proper Deployment Pipeline:**

```
Local Development
    ‚Üì (test with hugo server)
Feature Branch
    ‚Üì (push to GitHub)
Deploy Preview (auto-generated by Netlify)
    ‚Üì (test preview URL)
Pull Request Review
    ‚Üì (approve & merge)
Production Deploy
    ‚Üì (verify live)
Monitor
```

### **Git Workflow:**

```bash
# Create feature branch
git checkout -b fix/theme-issue

# Make changes
# ...

# Test locally BEFORE committing
cd website
hugo server -D
# Visit http://localhost:1313
# Verify all sections work
# Check for errors

# If local test passes:
git add .
git commit -m "fix: Remove non-existent theme reference"
git push origin fix/theme-issue

# Netlify auto-creates deploy preview
# Test preview: https://deploy-preview-X--q33n.netlify.app

# If preview works:
# Create PR in GitHub
# Merge to master ‚Üí production
```

### **Netlify Configuration:**

**Enable in Netlify dashboard:**
1. **Deploy previews** for all PRs
2. **Branch deploys** for `staging` branch
3. **Deploy notifications** (Slack/email when deploy fails)

## QA Checklist (Before Every Deploy)

- [ ] Test locally (`hugo server`)
- [ ] Verify all sections load (/, /deia/, /simdecisions/, /efemera/)
- [ ] Check for 404s
- [ ] Verify mobile view
- [ ] Lint config files (YAML/TOML syntax)
- [ ] Use deploy preview
- [ ] Test preview URL
- [ ] Check Netlify build log for warnings
- [ ] THEN merge to master

## When It's Acceptable to Skip QA

**Never for production.**

**Exceptions:**
- Private staging/dev sites
- Personal experiments (not customer-facing)
- Documentation-only changes (README.md)
- Rollback/hotfix (but still test locally first)

## Implementation

**Immediate:**
- [ ] Create `staging` branch
- [ ] Enable deploy previews in Netlify
- [ ] Document workflow in repo README
- [ ] Add pre-commit hook to remind about local testing

**Short-term:**
- [ ] Set up CI/CD checks (lint, build test)
- [ ] Add staging environment
- [ ] Implement deployment approval process

## Lessons Learned

1. **Speed vs. Quality** - We prioritized "getting it live" over "getting it right"
2. **Modeling Matters** - Q33N is a hosting platform; poor deployment practices undermine credibility
3. **Local Testing is Free** - Running `hugo server` takes 5 seconds and catches most issues
4. **Deploy Previews Exist** - Netlify provides them automatically; we just didn't use them
5. **The Fix is Simple** - One branch, one preview URL, 2 minutes of testing

## Related Patterns

- ‚úÖ **Good:** Feature Branch ‚Üí Deploy Preview ‚Üí Merge
- ‚úÖ **Good:** Staging Environment Testing
- ‚úÖ **Good:** Automated Testing in CI/CD
- ‚ùå **Bad:** Cowboy Coding (this pattern)
- ‚ùå **Bad:** "Test in Production"
- ‚ùå **Bad:** Hope-Driven Development

## References

- Netlify Deploy Previews: https://docs.netlify.com/site-deploys/deploy-previews/
- Hugo Local Testing: `hugo server -D`
- Git Flow: https://nvie.com/posts/a-successful-git-branching-model/
- DEIA eOS (Efemeral Operating System) deployment practices

---

**Process Deviation Acknowledged:** 2025-10-16
**Corrective Action:** Implement staging workflow and deploy preview process
**Status:** Learning documented, process improvement in progress

**Tags:** `#anti-pattern` `#deployment` `#qa` `#cowboy-coding` `#production-incident` `#process-deviation`
